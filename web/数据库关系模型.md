实体：用户(**用户ID**，用户分组，昵称，密码，头像，电话，邮箱，性别，用户简介)

实体：菜系(**菜系ID**，菜系名称)

实体：食材：(**食材ID**，食材类别，食材名称，食材别名)

实体：菜谱(**菜谱ID**，<u>用户ID</u>，菜谱发布时间，菜名，菜谱图片，菜谱视频位置，菜谱简介，喜欢数，讨厌数)

实体：(弱)步骤(**<u>菜谱ID</u>，步骤序号**，步骤图片位置，步骤描述)【菜谱>>需要>>步骤】

实体：评价(**<u>用户ID</u>，评价时间**，<u>菜谱ID</u>，评价文本内容，评价图片)

关系：关注(<u>**用户ID，被关注的用户ID**</u>)【用户--关注--用户】

关系：收藏(**<u>用户ID，菜谱ID</u>**)【用户--收藏--菜谱】

关系：归属(<u>**菜谱ID**，菜系ID</u>)【菜谱--归属--菜系】

关系：使用(**<u>菜谱ID，食材ID</u>**，食材用量)【菜谱--使用--食材】



```sql
# 无外键约束情况：
-- 创建用户表
CREATE TABLE 用户 (
    用户ID INT PRIMARY KEY,
    用户分组 VARCHAR(20),
    昵称 VARCHAR(50),
    密码 VARCHAR(50),
    头像 VARCHAR(100),
    电话 VARCHAR(20),
    邮箱 VARCHAR(50),
    性别 VARCHAR(10),
    用户简介 VARCHAR(200)
);

-- 创建菜系表
CREATE TABLE 菜系 (
    菜系ID INT PRIMARY KEY,
    菜系名称 VARCHAR(50)
);

-- 创建食材表
CREATE TABLE 食材 (
    食材ID INT PRIMARY KEY,
    食材类别 VARCHAR(50),
    食材名称 VARCHAR(50),
    食材别名 VARCHAR(50)
);

-- 创建菜谱表
CREATE TABLE 菜谱 (
    菜谱ID INT PRIMARY KEY,
    用户ID INT,
    菜谱发布时间 DATETIME,
    菜名 VARCHAR(50),
    菜谱图片 VARCHAR(100),
    菜谱视频位置 VARCHAR(100),
    菜谱简介 VARCHAR(200),
    喜欢数 INT,
    讨厌数 INT
);

-- 创建步骤表
CREATE TABLE 步骤 (
    菜谱ID INT,
    步骤序号 INT,
    步骤图片位置 VARCHAR(100),
    步骤描述 VARCHAR(200),
    PRIMARY KEY (菜谱ID, 步骤序号)
);

-- 创建评价表
CREATE TABLE 评价 (
    用户ID INT,
    评价时间 DATETIME,
    菜谱ID INT,
    评价文本内容 VARCHAR(200),
    评价图片 VARCHAR(100),
    PRIMARY KEY (用户ID, 评价时间, 菜谱ID)
);

-- 创建关注表
CREATE TABLE 关注 (
    用户ID INT,
    被关注的用户ID INT,
    PRIMARY KEY (用户ID, 被关注的用户ID)
);

-- 创建收藏表
CREATE TABLE 收藏 (
    用户ID INT,
    菜谱ID INT,
    PRIMARY KEY (用户ID, 菜谱ID)
);

-- 创建归属表
CREATE TABLE 归属 (
    菜谱ID INT,
    菜系ID INT,
    PRIMARY KEY (菜谱ID, 菜系ID)
);

-- 创建使用表
CREATE TABLE 使用 (
   菜谱ID INT,
   食材ID INT,
   食材用量 VARCHAR(20),
   PRIMARY KEY (菜谱ID, 食材ID)
);
```

```sql
# 有外键约束情况
-- 创建用户表
CREATE TABLE 用户 (
    用户ID INT PRIMARY KEY,
    用户分组 VARCHAR(20),
    昵称 VARCHAR(50),
    密码 VARCHAR(50),
    头像 VARCHAR(100),
    电话 VARCHAR(20),
    邮箱 VARCHAR(50),
    性别 VARCHAR(10),
    用户简介 VARCHAR(200)
);

-- 创建菜系表
CREATE TABLE 菜系 (
    菜系ID INT PRIMARY KEY,
    菜系名称 VARCHAR(50)
);

-- 创建食材表
CREATE TABLE 食材 (
    食材ID INT PRIMARY KEY,
    食材类别 VARCHAR(50),
    食材名称 VARCHAR(50),
    食材别名 VARCHAR(50)
);

-- 创建菜谱表
CREATE TABLE 菜谱 (
    菜谱ID INT PRIMARY KEY,
    用户ID INT,
    菜谱发布时间 DATETIME,
    菜名 VARCHAR(50),
    菜谱图片 VARCHAR(100),
    菜谱视频位置 VARCHAR(100),
    菜谱简介 VARCHAR(200),
    喜欢数 INT,
    讨厌数 INT,
    FOREIGN KEY (用户ID) REFERENCES 用户 (用户ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建步骤表
CREATE TABLE 步骤 (
    菜谱ID INT,
    步骤序号 INT,
    步骤图片位置 VARCHAR(100),
    步骤描述 VARCHAR(200),
    PRIMARY KEY (菜谱ID, 步骤序号),
    FOREIGN KEY (菜谱ID) REFERENCES 菜谱 (菜谱ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建评价表
CREATE TABLE 评价 (
    用户ID INT,
    评价时间 DATETIME,
    菜谱ID INT,
    评价文本内容 VARCHAR(200),
    评价图片 VARCHAR(100),
    PRIMARY KEY (用户ID, 评价时间, 菜谱ID),
    FOREIGN KEY (用户ID) REFERENCES 用户 (用户ID) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (菜谱ID) REFERENCES 菜谱 (菜谱ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建关注表
CREATE TABLE 关注 (
    用户ID INT,
    被关注的用户ID INT,
    PRIMARY KEY (用户ID, 被关注的用户ID),
    FOREIGN KEY (用户ID) REFERENCES 用户 (用户ID) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (被关注的用户ID) REFERENCES 用户 (用户ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建收藏表
CREATE TABLE 收藏 (
    用户ID INT,
    菜谱ID INT,
    PRIMARY KEY (用户ID, 菜谱ID),
    FOREIGN KEY (用户ID) REFERENCES 用户 (用户ID) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (菜谱ID) REFERENCES 菜谱 (菜谱ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建归属表
CREATE TABLE 归属 (
   菜谱ID INT,
   菜系ID INT,
   PRIMARY KEY (菜谱ID, 菜系ID),
   FOREIGN KEY (菜谱ID) REFERENCES 菜谱 (菜谱ID) ON DELETE CASCADE ON UPDATE CASCADE,
   FOREIGN KEY (菜系ID) REFERENCES 菜系 (菜系ID) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 创建使用表
CREATE TABLE 使用 (
   菜谱ID INT,
   食材ID INT,
   食材用量 VARCHAR(20),
   PRIMARY KEY (菜谱ID, 食材ID),
   FOREIGN KEY (菜谱ID) REFERENCES 菜谱 (菜谱ID) ON DELETE CASCADE ON UPDATE CASCADE,
   FOREIGN KEY (食材ID) REFERENCES 食材 (食材ID) ON DELETE CASCADE ON UPDATE CASCADE
);
```
